<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>404 — ページが見つかりません | CYBER HAVEN</title>

  <!-- Google Font (任意) -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Inter:wght@300;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#03020a;
      --neon-cyan:#00e6ff;
      --neon-pink:#ff2d95;
      --muted:#bfcbd6;
      --glass: rgba(255,255,255,0.03);
    }

    /* Reset */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
      background:
        radial-gradient(800px 400px at 10% 10%, rgba(0,230,255,0.04), transparent 6%),
        radial-gradient(700px 300px at 90% 90%, rgba(255,45,149,0.03), transparent 8%),
        var(--bg);
      color:var(--muted);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }

    /* ambient grid + scanlines */
    .ambient{
      position:fixed;
      inset:0;
      z-index:0;
      pointer-events:none;
      background-image:
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(rgba(255,255,255,0.01) 1px, transparent 1px);
      background-size: 180px 180px, 100% 3px;
      mix-blend-mode:overlay;
      opacity:0.85;
      animation: drift 18s linear infinite;
    }
    @keyframes drift{
      from{ transform:translateX(0) }
      to{ transform:translateX(-160px) }
    }

    /* container */
    .wrap{
      position:relative;
      z-index:2;
      width:min(1100px,96vw);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.06);
      border-radius:14px;
      padding:28px;
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.7);
      backdrop-filter: blur(8px) saturate(120%);
      overflow:hidden;
      min-height:420px;
    }

    /* left panel */
    .left{
      padding:18px 8px;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:18px;
    }

    .num{
      font-family: "Orbitron", sans-serif;
      font-weight:700;
      font-size:clamp(64px, 10vw, 112px);
      color:#eaffff;
      line-height:0.9;
      position:relative;
      letter-spacing:6px;
      text-shadow:
        0 0 20px rgba(0,230,255,0.15),
        0 0 40px rgba(255,45,149,0.06);
    }

    /* glitch for number */
    .num.glitch::before,
    .num.glitch::after{
      content: attr(data-text);
      position:absolute;
      left:0; top:0;
      width:100%; height:100%;
      pointer-events:none;
      mix-blend-mode:screen;
    }
    .num.glitch::before{
      color:var(--neon-cyan);
      transform:translate(6px,-6px);
      opacity:0.8;
      filter:blur(0.5px);
      animation: g1 2.8s infinite linear;
    }
    .num.glitch::after{
      color:var(--neon-pink);
      transform:translate(-6px,6px);
      opacity:0.7;
      filter:blur(0.6px);
      animation: g2 3.4s infinite linear;
    }
    @keyframes g1{
      0%{ clip-path: inset(0 0 80% 0) }
      15%{ clip-path: inset(10% 0 55% 0) }
      30%{ clip-path: inset(40% 0 30% 0) }
      45%{ clip-path: inset(5% 0 75% 0) }
      60%{ clip-path: inset(70% 0 0 0) }
      100%{ clip-path: inset(0 0 80% 0) }
    }
    @keyframes g2{
      0%{ clip-path: inset(80% 0 0 0) }
      18%{ clip-path: inset(60% 0 10% 0) }
      36%{ clip-path: inset(30% 0 40% 0) }
      54%{ clip-path: inset(5% 0 80% 0) }
      100%{ clip-path: inset(80% 0 0 0) }
    }

    .title{
      font-size:clamp(18px,2.2vw,22px);
      font-weight:600;
      color:#e6f7ff;
      letter-spacing:0.6px;
    }

    .desc{
      color: #cfefff;
      opacity:0.92;
      max-width:68ch;
      line-height:1.7;
      font-size:15px;
    }

    .actions{
      display:flex;
      gap:12px;
      align-items:center;
      margin-top:6px;
    }
    .btn{
      padding:10px 14px;
      border-radius:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.06);
      color:var(--muted);
      font-weight:600;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:focus{ outline:3px solid rgba(0,230,255,0.12); outline-offset:3px }
    .btn.primary{
      background: linear-gradient(90deg,var(--neon-cyan),var(--neon-pink));
      color:#060606;
      -webkit-background-clip:text;
      background-clip:text;
      -webkit-text-fill-color:transparent;
      position:relative;
    }
    .btn.ghost{
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
    }

    /* right panel */
    .right{
      padding:18px;
      border-left:1px solid rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:center;
    }

    .card{
      background: linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.25));
      border-radius:10px;
      padding:12px;
      font-family: "Courier New", monospace;
      font-size:13px;
      color:#9ff7ff;
      line-height:1.6;
      border:1px solid rgba(0,230,255,0.06);
      box-shadow: 0 12px 30px rgba(0,0,0,0.6);
    }

    .search{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .search input[type="search"]{
      flex:1;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.06);
      background:rgba(255,255,255,0.02);
      color:var(--muted);
      font-size:14px;
    }
    .search input:focus{ outline: 3px solid rgba(0,230,255,0.08); outline-offset:2px }

    .hint{
      font-size:13px;
      color:var(--muted);
    }

    /* small footer */
    .meta{
      display:flex;
      justify-content:space-between;
      gap:10px;
      color:rgba(191,203,214,0.7);
      font-size:13px;
    }

    /* mobile */
    @media (max-width:880px){
      .wrap{ grid-template-columns: 1fr; padding:18px }
      .right{ border-left: none; border-top:1px solid rgba(255,255,255,0.03); }
      .num{ font-size: clamp(48px, 12vw, 84px) }
    }
  </style>
</head>
<body>
  <div class="ambient" aria-hidden="true"></div>

  <main class="wrap" role="main" aria-labelledby="page-title">
    <section class="left">
      <div class="num glitch" id="code" data-text="404">404</div>

      <h1 id="page-title" class="title">ページが見つかりません — ネットの迷子です</h1>

      <p class="desc">
        そのURLは存在しないか、消えたようです。  
        ここは情報の残骸が漂うネットの片隅。気をつけないと謎のサブプロセスに絡まれます。  
        下から移動するか、検索してみてください。
      </p>

      <div class="actions" role="group" aria-label="404 アクション">
        <button class="btn primary" id="homeBtn">ホームに戻る</button>
        <button class="btn ghost" id="reportBtn">壊れてる？報告する</button>
      </div>
    </section>

    <aside class="right" aria-label="ナビゲーションと検索">
      <div class="card" role="search" aria-label="サイト検索">
        <form id="searchForm" class="search" action="" onsubmit="return handleSearch(event);" aria-describedby="searchHint">
          <input id="q" name="q" type="search" placeholder="サイト内を検索（例: ポートフォリオ）" aria-label="検索クエリ" />
          <button class="btn" type="submit" aria-label="検索ボタン">検索</button>
        </form>
        <div id="searchHint" class="hint" style="margin-top:8px">
          外部検索を使う場合、結果は新しいタブで開きます。
        </div>
      </div>

      <div class="card" role="status" aria-live="polite" id="info">
        <div><strong>提案:</strong></div>
        <ul style="margin-top:8px;line-height:1.6">
          <li>URLのタイプミスを確認してください</li>
          <li>サイトマップやトップページを確認してください</li>
          <li>問題が続くときは「壊れてる？報告する」を押してください</li>
        </ul>
      </div>

      <div class="meta" aria-hidden="false">
        <div>site: CYBER HAVEN</div>
        <div id="timeStamp"></div>
      </div>
    </aside>
  </main>

  <script>
    // 基本の挙動
    const homeBtn = document.getElementById('homeBtn');
    const reportBtn = document.getElementById('reportBtn');
    const info = document.getElementById('info');
    const timeStamp = document.getElementById('timeStamp');
    const qInput = document.getElementById('q');

    // ホームへ戻る（必要ならパスを変えて）
    homeBtn.addEventListener('click', ()=> {
      // ビジュアルフィードバック
      homeBtn.animate([{transform:'translateY(0)'},{transform:'translateY(-4px)'},{transform:'translateY(0)'}],{duration:160});
      // デフォルトはトップに飛ばす
      window.location.href = '/';
    });

    // 報告ボタン（実用的にはフォームやAPIに接続）
    reportBtn.addEventListener('click', ()=> {
      reportBtn.animate([{opacity:1},{opacity:0.6},{opacity:1}],{duration:220});
      const stub = document.createElement('div');
      stub.textContent = '> report queued — thank you.';
      stub.style.fontFamily = 'monospace';
      stub.style.marginTop = '10px';
      info.appendChild(stub);
    });

    // サイト内検索処理（デフォルトはGoogle site:検索を新しいタブで開く）
    function handleSearch(e){
      e.preventDefault();
      const q = qInput.value.trim();
      if(!q){
        qInput.focus();
        return false;
      }
      const site = location.hostname || 'your-site.com'; // 必要ならドメインをハードコード
      const url = `https://www.google.com/search?q=site:${site}+${encodeURIComponent(q)}`;
      window.open(url, '_blank', 'noopener');
      return false;
    }

    // タイムスタンプ表示（ユーザーのローカル時刻）
    (function showTime(){
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const day = String(d.getDate()).padStart(2,'0');
      const hh = String(d.getHours()).padStart(2,'0');
      const mm = String(d.getMinutes()).padStart(2,'0');
      timeStamp.textContent = `${y}-${m}-${day} ${hh}:${mm}`;
    })();

    // キーボードで Enter が押されたらホームへ（アクセシビリティ）
    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        qInput.value = '';
        qInput.focus();
      }
      if(e.key === 'Enter' && document.activeElement === qInput){
        document.querySelector('#searchForm button[type="submit"]').click();
      }
    });

    // 小さなUX: 404コードに微妙なランダムグリッチ
    (function glitchLoop(){
      const codeEl = document.getElementById('code');
      setInterval(()=> {
        const shiftX = (Math.random()*14 - 7).toFixed(1) + 'px';
        const shiftY = (Math.random()*14 - 7).toFixed(1) + 'px';
        codeEl.style.transform = `translate(${shiftX}, ${shiftY})`;
        setTimeout(()=> codeEl.style.transform = '', 220);
      }, 2200);
    })();
  </script>
</body>
</html>
